
{% load static %}

<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="{% static 'etudiants/css/accueil.css' %}">
  <title>ISFAD - Accueil avec Popup</title>

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

  <!-- AOS -->
  <link rel="stylesheet" href="https://unpkg.com/aos@2.3.1/dist/aos.css" />

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet" />
</head>
<body>


  <!-- Header -->
  <header data-aos="fade-down" data-aos-duration="1200" data-aos-delay="200">
    <div class="logo">ISFAD Guinee</div>
  <div class="menu-toggle" onclick="toggleDropdown()">
    <i class="fas fa-bars"></i>
  </div>
  <div class="user-info">
    <img src="https://formation-isfad-gn.org/moodle/theme/image.php/eguru/core/1745848149/u/f2_white" alt="Amara" />
    <h5 style="margin: 0;">Connecté sous {{ user.first_name }} {{ user.last_name }}</h5>
  </div>
    <nav>
      <ul>
        <li><a href="#">Accueil</a></li>

        <li><a href="{% url 'evaluation'%}">Evaluation et dévoir</a></li>
        <li class="menu-deroulant">
  <a href="#">Autres</a>
       <i class="fas fa-chevron-down fleche"></i></a>
  <ul class="sous-menu">
    <li><a href="{% url 'profil'%}"><i class="fas fa-user"></i> Profil</a></li>
    <li><a href="{% url 'chat'%}"><i class="fas fa-comments"></i> Chat</a></li>
    <li><a href="{% url 'espace_etudiant'%}"><i class="fas fa-user-graduate" style="color: #2196f3;"></i>Espace Etudiants</a></li>
    <li><a href="{% url 'choix_cours' %}#extra-cards">><i class="fas fa-calendar-alt"></i> Calendrier</a></li>
    <li><a href="{% url 'parametres'%}"><i class="fas fa-cog"></i> Paramètres</a></li>
  </ul>
</li>

      </ul>
    </nav>
  </header>

  <section class="hero" data-aos="fade-down" data-aos-duration="1300" data-aos-delay="700">
    <h1 class="gsap-title">Bienvenue à l’ISFAD</h1>
    <p class="gsap-desc">L'excellence de la formation à distance au service de votre avenir académique et professionnel.</p>
  </section>

  <h2 id="xw" data-aos="fade-down" data-aos-duration="1500" data-aos-delay="600">Départements</h2>


  <section class="matières" id="matieres">
    <div class="carte-matière" data-id="dev-communautaire" data-aos="fade-up" data-aos-duration="1100" data-aos-delay="100">
      <h3><i class="fas fa-users"></i> Développement Communautaire</h3>
      <p>Analyse, algèbre, statistiques, probabilité…</p>
      <div class="btn-container">
        <button class="btn btn-bleu voir-plus-btn">Voir plus</button>
          <a href="{% url 'licence'%}" class="btn btn-rouge cours-btn">Cours</a>
      </div>
    </div>
    <div class="carte-matière" data-id="economie" data-aos="fade-up" data-aos-duration="1250" data-aos-delay="200">
      <h3><i class="fas fa-chart-line"></i> Économie</h3>
      <p>Microéconomie, macroéconomie, développement…</p>
      <div class="btn-container">
        <button class="btn btn-bleu voir-plus-btn">Voir plus</button>
        <a href="{% url 'licence'%}" class="btn btn-rouge cours-btn">Cours</a>
      </div>
    </div>
    <div class="carte-matière" data-id="droit" data-aos="fade-up" data-aos-duration="1300" data-aos-delay="300">
      <h3><i class="fas fa-balance-scale"></i> Droit</h3>
      <p>Droit civil, droit du travail, droit public…</p>
      <div class="btn-container">
        <button class="btn btn-bleu voir-plus-btn">Voir plus</button>
        <a href="{% url 'licence'%}" class="btn btn-rouge cours-btn">Cours</a>
      </div>
    </div>
    <div class="carte-matière" data-id="latice" data-aos="fade-up" data-aos-duration="1350" data-aos-delay="400">
      <h3><i class="fas fa-laptop-code"></i> Latice</h3>
      <p>Programmation, bureautique, réseaux, base de données…</p>
      <div class="btn-container">
        <button class="btn btn-bleu voir-plus-btn">Voir plus</button>
        <a href="{% url 'licence'%}" class="btn btn-rouge cours-btn">Cours</a>
      </div>
    </div>
    <div class="carte-matière" data-id="divers" data-aos="fade-up" data-aos-duration="1350" data-aos-delay="500">
      <h3><i class="fas fa-briefcase"></i> Divers</h3>
      <p>Comptabilité, audit, management, finance…</p>
      <div class="btn-container">
        <button class="btn btn-bleu voir-plus-btn">Voir plus</button>
        <a href="{% url 'licence'%}" class="btn btn-rouge cours-btn">Cours</a>
      </div>
    </div>
    <div class="carte-matière" data-id="renforcement" data-aos="fade-up" data-aos-duration="1400" data-aos-delay="600">
      <h3><i class="fas fa-chalkboard-teacher"></i> Renforcement des capacités</h3>
      <p>Formation à distance, outils numériques, méthodes modernes…</p>
      <div class="btn-container">
        <button class="btn btn-bleu voir-plus-btn">Voir plus</button>
        <a href="{% url 'licence'%}" class="btn btn-rouge cours-btn">Cours</a>
      </div>
    </div>
  </section>

  <!-- Pourquoi ISFAD -->
  <section id="pourquoi">
    <h2 data-aos="fade-down" data-aos-duration="900" data-aos-delay="500">Pourquoi choisir l’ISFAD ?</h2>
    <div>

      <div class="carte-motif" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="900">
        <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="Flexibilité">
        <h3>Flexibilité</h3>
        <p>Étudiez à votre rythme, selon vos disponibilités, où que vous soyez.</p>
      </div>

      <div class="carte-motif" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="950">
        <img src="https://cdn-icons-png.flaticon.com/512/190/190411.png" alt="Qualité">
        <h3>Qualité académique</h3>
        <p>Des enseignants qualifiés et des programmes validés par le ministère.</p>
      </div>

      <div class="carte-motif" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="1000">
        <img src="https://cdn-icons-png.flaticon.com/512/1077/1077063.png" alt="Accompagnement">
        <h3>Encadrement personnalisé</h3>
        <p>Un suivi pédagogique régulier, à distance ou en présentiel selon les besoins.</p>
      </div>

      <div class="carte-motif" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="1150">
        <img src="https://cdn-icons-png.flaticon.com/512/681/681392.png" alt="Technologie">
        <h3>Plateforme moderne</h3>
        <p>Utilisation d’outils numériques performants pour l’apprentissage en ligne.</p>
      </div>

    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="footer-col">
      <h4>Date de creation</h4>
      <p>Créé en 2004 sous le N°2004/497/MESRS/ CAB, l'ISFAD est une institution publique à vocation d'enseignement et de recherche à distance de niveau supérieur.</p>
    </div>
    <div class="footer-col">
      <h4>ISFAD</h4>
      <p>Institut Supérieur de Formation à Distance en Guinée.</p>
    </div>
    <div class="footer-col">
      <h4>Liens utiles</h4>
      <ul>
        <li><a href="#">A propos de nous</a></li>
        <li><a href="#">Formations</a></li>
        <li><a href="#">Inscription</a></li>
        <li><a href="#">Connexion</a></li>
      </ul>
    </div>
    <div class="footer-col">
      <h4>Contact</h4>
      <ul>
        <li><i class="fa-solid fa-envelope"></i>  Email : info@isfad-gn.org</li>
        <li><i class="fa-solid fa-phone"></i>  Téléphone: +224 622 35 19 06</li>
        <li><i class="fa-solid fa-phone"></i>  Téléphone : +224 600 00 00 00</li>
        <li><i class="fa-solid fa-location-dot">  </i>Kipé, à coté de l'hôpital de l'amitié sino-guinéen, Ratoma, République de Guinée,</li>
      </ul>
    </div>
  </footer>

  <!-- Popup Modal -->
  <div class="modal-overlay" id="modal">
    <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <button class="modal-close" id="modalClose" aria-label="Fermer la fenêtre modale">&times;</button>
      <h2 id="modalTitle">Titre du département</h2>
      <div class="modal-section">
        <strong>Nombre de licences :</strong> <span id="licencesCount"></span>
      </div>
      <div class="modal-section">
        <strong>Nombre d’étudiants par licence :</strong>
        <ul id="studentsByLicence" class="modal-list"></ul>
      </div>
      <div class="modal-section">
        <strong>Total d’étudiants :</strong> <span id="totalStudents"></span>
      </div>
      <div class="modal-section">
        <strong>Matières par licence :</strong>
        <div id="matieresParLicence"></div>
      </div>
    </div>
  </div>
  <div style="text-align:center; padding:1rem; background:#004080; color:#fff; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">
  <i class="fa-regular fa-copyright"></i>
  Copyright © 2024 - Développée par un Groupe. Alimenté par ISFAD
</div>

  <!-- Scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

<script>
  // Initialisation de la bibliothèque AOS pour les animations au scroll
  AOS.init({
    once: true,      // Animation une seule fois au scroll
    duration: 700    // Durée des animations en ms
  });

  // Données statiques des départements avec leurs licences, nombre d'étudiants, matières
  const dataDepartements = {
    "dev-communautaire": {
      nom: "Développement Communautaire",
      licences: 2,
      etudiantsParLicence: {
        "Licence 1": 120,
        "Licence 2": 95
      },
      matieresParLicence: {
        "Licence 1": ["Analyse", "Algèbre", "Statistiques"],
        "Licence 2": ["Probabilité", "Sociologie", "Économie locale"]
      }
    },
    "economie": {
      nom: "Économie",
      licences: 3,
      etudiantsParLicence: {
        "Licence 1": 100,
        "Licence 2": 80,
        "Licence 3": 50
      },
      matieresParLicence: {
        "Licence 1": ["Microéconomie", "Macroéconomie"],
        "Licence 2": ["Développement", "Finance"],
        "Licence 3": ["Politique économique", "Commerce international"]
      }
    },
    "droit": {
      nom: "Droit",
      licences: 3,
      etudiantsParLicence: {
        "Licence 1": 90,
        "Licence 2": 70,
        "Licence 3": 55
      },
      matieresParLicence: {
        "Licence 1": ["Droit civil", "Droit pénal"],
        "Licence 2": ["Droit du travail", "Droit public"],
        "Licence 3": ["Droit international", "Droit administratif"]
      }
    },
    "latice": {
      nom: "Latice",
      licences: 2,
      etudiantsParLicence: {
        "Licence 1": 110,
        "Licence 2": 85
      },
      matieresParLicence: {
        "Licence 1": ["Programmation", "Bureautique"],
        "Licence 2": ["Réseaux", "Bases de données"]
      }
    },
    "divers": {
      nom: "Divers",
      licences: 3,
      etudiantsParLicence: {
        "Licence 1": 70,
        "Licence 2": 65,
        "Licence 3": 40
      },
      matieresParLicence: {
        "Licence 1": ["Comptabilité", "Audit"],
        "Licence 2": ["Management", "Finance"],
        "Licence 3": ["Marketing", "Entrepreneuriat"]
      }
    },
    "renforcement": {
      nom: "Renforcement des capacités",
      licences: 1,
      etudiantsParLicence: {
        "Licence 1": 50
      },
      matieresParLicence: {
        "Licence 1": ["Formation à distance", "Outils numériques", "Méthodes modernes"]
      }
    }
  };

  // Récupération des éléments du DOM nécessaires pour le modal
  const modal = document.getElementById('modal');
  const modalClose = document.getElementById('modalClose');
  const modalTitle = document.getElementById('modalTitle');
  const licencesCount = document.getElementById('licencesCount');
  const studentsByLicence = document.getElementById('studentsByLicence');
  const totalStudents = document.getElementById('totalStudents');
  const matieresParLicenceDiv = document.getElementById('matieresParLicence');

  /**
   * Ouvre la fenêtre modale et affiche les informations d'un département donné
   * @param {string} depId - L'identifiant du département
   */
  function openModal(depId) {
    const data = dataDepartements[depId];
    if (!data) return; // Si le département n'existe pas, on sort

    // Mise à jour du titre et du nombre de licences
    modalTitle.textContent = data.nom;
    licencesCount.textContent = data.licences;

    // Affichage des effectifs par licence
    studentsByLicence.innerHTML = "";
    let total = 0;
    for (const [licence, count] of Object.entries(data.etudiantsParLicence)) {
      total += count;
      const li = document.createElement('li');
      li.textContent = `${licence} : ${count} étudiants`;
      studentsByLicence.appendChild(li);
    }
    totalStudents.textContent = total; // Total général des étudiants

    // Affichage des matières par licence dans des blocs séparés
    matieresParLicenceDiv.innerHTML = "";
    if (data.matieresParLicence) {
      for (const [licence, matieres] of Object.entries(data.matieresParLicence)) {
        const block = document.createElement('div');
        block.classList.add('licence-block');

        const titre = document.createElement('h4');
        titre.textContent = licence;
        block.appendChild(titre);

        const ul = document.createElement('ul');
        for (const matiere of matieres) {
          const li = document.createElement('li');
          li.textContent = matiere;
          ul.appendChild(li);
        }
        block.appendChild(ul);

        matieresParLicenceDiv.appendChild(block);
      }
    }

    // Affichage de la modale avec animation d'ouverture via GSAP
    modal.classList.add('active');
    gsap.fromTo(".modal-content",
      { scale: 0.7, opacity: 0 },
      { scale: 1, opacity: 1, duration: 0.4, ease: "power2.out" }
    );
  }

  /**
   * Ferme la fenêtre modale avec animation
   */
  function closeModal() {
    gsap.to(".modal-content", {
      scale: 0.7,
      opacity: 0,
      duration: 0.3,
      ease: "power2.in",
      onComplete: () => {
        modal.classList.remove('active');
      }
    });
  }

  // Ajout des événements sur les boutons "Voir plus" de chaque carte matière
  document.querySelectorAll('.voir-plus-btn').forEach(btn => {
    btn.addEventListener('click', e => {
      const carte = e.target.closest('.carte-matière');
      if (!carte) return;
      const depId = carte.getAttribute('data-id'); // On récupère l'id du département
      openModal(depId);
    });
  });

  // Événement fermeture modale au clic sur la croix ou sur l'arrière-plan
  modalClose.addEventListener('click', closeModal);
  modal.addEventListener('click', e => {
    if (e.target === modal) {
      closeModal();
    }
  });

  // Animations d'apparition au chargement de la page avec GSAP
  window.addEventListener('load', () => {
    gsap.to("header", { opacity: 1, y: 0, duration: 1.2, ease: "power2.out", delay: 0.2 });
    gsap.to(".hero h1", { opacity: 1, y: 0, duration: 1.2, ease: "power2.out", delay: 0.7 });
    gsap.to(".hero p", { opacity: 1, y: 0, duration: 1.2, ease: "power2.out", delay: 1.0 });

    gsap.fromTo(".carte-matière",
      { y: 40, opacity: 0 },
      { y: 0, opacity: 1, duration: 1, stagger: 0.15, ease: "power2.out", delay: 1.2 }
    );
  });

  // Gestion du menu déroulant dans les départements
  document.querySelectorAll('.menu-deroulant > a').forEach(item => {
    item.addEventListener('click', e => {
      e.preventDefault(); // Empêche la navigation par défaut au clic
      const parent = item.parentElement;
      parent.classList.toggle('active'); // Ouvre/ferme le sous-menu
    });
  });
</script>


</body>
</html>
